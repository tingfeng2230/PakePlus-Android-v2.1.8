import{m as e}from"./mock-LZpIbfPd.js";import{_ as t}from"./index-BTSs0mnw.js";import{o as a,G as l,p as s,q as r,O as n,P as o,A as i,r as c,c as d,C as p,x}from"./vue-vendor-DsBWIAOi.js";const u={class:"key-points-page fade-in"},y={class:"px-4 py-3 bg-white border-b border-gray-200"},v={class:"flex space-x-2 overflow-x-auto pb-2"},m=["onClick"],g={class:"px-4 py-4"},h={key:0,class:"space-y-3"},b={key:1,class:"space-y-3"},k={class:"flex items-start justify-between mb-3"},f={class:"flex-1"},w={class:"flex items-center space-x-2 mb-1"},j={class:"text-base font-bold text-gray-900"},C={class:"text-sm text-gray-600 mt-1"},M={class:"space-y-2 text-sm text-gray-600"},z={class:"flex items-center space-x-2"},P={class:"flex items-center space-x-2"},_={class:"flex items-center space-x-2"},B={class:"mt-3 pt-3 border-t border-gray-100"},V={class:"text-xs text-gray-600 mb-2"},H={class:"flex space-x-2"},K=["href"],q={key:2,class:"text-center py-12"},A=t({__name:"KeyPoints",setup(t){const A=c([]),G=c(!0),I=c("all");a(()=>{return t=null,a=null,l=function*(){try{const t=yield e.getKeyPoints();A.value=t.data}catch(t){}finally{G.value=!1}},new Promise((e,s)=>{var r=e=>{try{o(l.next(e))}catch(t){s(t)}},n=e=>{try{o(l.throw(e))}catch(t){s(t)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,n);o((l=l.apply(t,a)).next())});var t,a,l});const L=[{key:"all",label:"全部"},{key:"漫水桥",label:"漫水桥"},{key:"地质灾害点",label:"地质灾害点"},{key:"危房",label:"危房"},{key:"水库",label:"水库"},{key:"城市积水点",label:"积水点"},{key:"河道",label:"河道"}],O=d(()=>"all"===I.value?A.value:A.value.filter(e=>e.type===I.value));return(e,t)=>(l(),s("div",u,[r("div",y,[r("div",v,[(l(),s(n,null,o(L,e=>r("button",{key:e.key,onClick:t=>I.value=e.key,class:p([I.value===e.key?"bg-primary-600 text-white":"bg-gray-100 text-gray-700","flex-shrink-0 py-2 px-4 rounded-lg text-sm font-medium transition-colors"])},x(e.label),11,m)),64))])]),r("div",g,[G.value?(l(),s("div",h,[(l(),s(n,null,o(4,e=>r("div",{key:e,class:"animate-pulse bg-white p-4 rounded-xl"},[...t[0]||(t[0]=[r("div",{class:"h-4 bg-gray-200 rounded"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-3/4 mt-2"},null,-1)])])),64))])):(l(),s("div",b,[(l(!0),s(n,null,o(O.value,e=>(l(),s("div",{key:e.id,class:"bg-white p-4 rounded-xl shadow-sm"},[r("div",k,[r("div",f,[r("div",w,[r("span",{class:p([{"bg-blue-100 text-blue-700":"漫水桥"===e.type,"bg-purple-100 text-purple-700":"地质灾害点"===e.type,"bg-orange-100 text-orange-700":"危房"===e.type,"bg-cyan-100 text-cyan-700":"水库"===e.type,"bg-yellow-100 text-yellow-700":"城市积水点"===e.type,"bg-green-100 text-green-700":"河道"===e.type},"text-xs px-2 py-1 rounded-full"])},x(e.type),3)]),r("h3",j,x(e.name),1),r("p",C,x(e.location),1)])]),r("div",M,[r("div",z,[t[1]||(t[1]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),r("span",null,"责任单位: "+x(e.responsible),1)]),r("div",P,[t[2]||(t[2]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),r("span",null,"值守人: "+x(e.keeper),1)]),r("div",_,[t[3]||(t[3]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),r("span",null,x(e.phone),1)])]),r("div",B,[r("p",V,"防范措施: "+x(e.measures),1),r("div",H,[r("a",{href:"tel:"+e.phone,class:"flex-1 py-2 bg-primary-600 text-white rounded-lg text-xs font-medium text-center"}," 联系值守 ",8,K),t[4]||(t[4]=r("button",{class:"flex-1 py-2 bg-emergency-100 text-emergency-700 rounded-lg text-xs font-medium"}," 导航 ",-1))])])]))),128))])),G.value||0!==O.value.length?i("",!0):(l(),s("div",q,[...t[5]||(t[5]=[r("svg",{class:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),r("p",{class:"text-sm text-gray-500"},"暂无相关点位",-1)])]))])]))}},[["__scopeId","data-v-3b2fa894"]]);export{A as default};
