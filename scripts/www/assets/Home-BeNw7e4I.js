import{G as e,p as t,C as a,q as s,x as l,A as n,o,O as i,P as r,y as c,J as d,r as m,E as v}from"./vue-vendor-DsBWIAOi.js";import{m as u}from"./mock-LZpIbfPd.js";import{u as x}from"./useToast-BxM8ikBu.js";import{_ as h}from"./index-BTSs0mnw.js";const p={class:"flex flex-col items-center justify-center space-y-3"},g={key:0,class:"text-sm text-gray-600"},y={__name:"Loading",props:{size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},text:{type:String,default:""}},setup(o){const i={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return(r,c)=>(e(),t("div",p,[(e(),t("svg",{class:a(["animate-spin text-primary-600",i[o.size]]),fill:"none",viewBox:"0 0 24 24"},[...c[0]||(c[0]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])],2)),o.text?(e(),t("p",g,l(o.text),1)):n("",!0)]))}},f={class:"home-page fade-in"},b={class:"px-4 pt-3 pb-3"},w={class:"grid grid-cols-2 gap-3"},k=["onClick"],M={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},C=["d"],z={class:"font-medium"},j={class:"px-4 py-3"},L={class:"grid grid-cols-3 gap-3"},H=["onClick"],_={class:"w-8 h-8 text-primary-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},V=["d"],B={class:"text-xs text-gray-700 text-center"},P={class:"px-4 py-3"},A={key:0,class:"bg-white rounded-xl p-8 shadow-sm"},S={key:1,class:"bg-white rounded-xl p-4 shadow-sm"},D={class:"space-y-3"},q={class:"text-sm font-medium text-gray-900"},E={class:"text-xs text-gray-500"},G={class:"text-right"},I={class:"text-lg font-bold text-primary-600"},J={class:"px-4 py-3"},O={key:0,class:"bg-white rounded-xl p-8 shadow-sm"},R={key:1,class:"bg-white rounded-xl p-4 shadow-sm"},T={class:"space-y-3"},W={class:"text-sm font-medium text-gray-900"},F={class:"text-xs text-gray-500"},K={class:"text-right"},N={class:"px-4 py-3 mb-4"},Q={class:"bg-white rounded-xl p-4 shadow-sm"},U={class:"flex items-center justify-between"},X=h({__name:"Home",setup(n){const h=v(),p=x(),g=m([]),X=m([]),Y=m(!0);o(function(){return e=this,t=null,a=function*(){try{const[e,t]=yield Promise.all([u.getRainfallData(),u.getWaterLevelData()]);g.value=e.data,X.value=t.data}catch(e){p.error("加载数据失败")}finally{Y.value=!1}},new Promise((s,l)=>{var n=e=>{try{i(a.next(e))}catch(t){l(t)}},o=e=>{try{i(a.throw(e))}catch(t){l(t)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,o);i((a=a.apply(e,t)).next())});var e,t,a});const Z=[{name:"应急会商",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",route:"/consultation",color:"bg-emergency-600"},{name:"险情上报",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",route:"/upload",color:"bg-emergency-500"}],$=[{name:"防汛学习",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",route:"/learning"},{name:"汛情监测",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",route:"/monitoring"},{name:"应急协同",icon:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z",route:"/consultation"},{name:"防汛物资",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4",route:"/materials"},{name:"突击队员",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",route:"/members"},{name:"重点点位",icon:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z M15 11a3 3 0 11-6 0 3 3 0 016 0z",route:"/key-points"},{name:"人员转移",icon:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",route:"/evacuation"},{name:"综合上传",icon:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12",route:"/upload"},{name:"消息推送",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",route:"/notifications"}];function ee(e){h.push(e)}return(n,o)=>(e(),t("div",f,[s("div",b,[s("div",w,[(e(),t(i,null,r(Z,n=>s("button",{key:n.name,onClick:e=>ee(n.route),class:a([[n.color,"text-white"],"flex items-center justify-center space-x-2 p-4 rounded-xl shadow-md hover:shadow-lg transition-all active:scale-95"])},[(e(),t("svg",M,[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:n.icon},null,8,C)])),s("span",z,l(n.name),1)],10,k)),64))])]),s("div",j,[o[1]||(o[1]=s("h2",{class:"text-sm font-bold text-gray-700 mb-3"},"功能导航",-1)),s("div",L,[(e(),t(i,null,r($,a=>s("button",{key:a.name,onClick:e=>ee(a.route),class:"flex flex-col items-center p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-all active:scale-95"},[(e(),t("svg",_,[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:a.icon},null,8,V)])),s("span",B,l(a.name),1)],8,H)),64))])]),s("div",P,[o[2]||(o[2]=s("h2",{class:"text-sm font-bold text-gray-700 mb-3"},"实时雨情",-1)),Y.value?(e(),t("div",A,[c(y,{text:"加载中..."})])):(e(),t("div",S,[s("div",D,[(e(!0),t(i,null,r(g.value,n=>(e(),t("div",{key:n.id,class:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0"},[s("div",null,[s("div",q,l(n.station),1),s("div",E,l(n.time),1)]),s("div",G,[s("div",I,l(n.rainfall)+"mm",1),s("div",{class:a([{"text-warning-red":"暴雨"===n.level,"text-warning-orange":"大雨"===n.level,"text-warning-yellow":"中雨"===n.level,"text-warning-blue":"小雨"===n.level},"text-xs font-medium"])},l(n.level),3)])]))),128))])]))]),s("div",J,[o[3]||(o[3]=s("h2",{class:"text-sm font-bold text-gray-700 mb-3"},"水库水位",-1)),Y.value?(e(),t("div",O,[c(y,{text:"加载中..."})])):(e(),t("div",R,[s("div",T,[(e(!0),t(i,null,r(X.value,n=>(e(),t("div",{key:n.id,class:a(["flex items-center justify-between py-2 border-b border-gray-100 last:border-0",{"bg-red-50 -mx-2 px-2 rounded":"超汛限"===n.status}])},[s("div",null,[s("div",W,l(n.name),1),s("div",F,"汛限: "+l(n.warningLevel)+"m",1)]),s("div",K,[s("div",{class:a(["text-lg font-bold","超汛限"===n.status?"text-warning-red":"text-primary-600"])},l(n.currentLevel)+"m ",3),s("div",{class:a([{"text-warning-red":"超汛限"===n.status,"text-green-600":"正常"===n.status},"text-xs font-medium"])},l(n.status),3)])],2))),128))])]))]),s("div",N,[o[5]||(o[5]=s("h2",{class:"text-sm font-bold text-gray-700 mb-3"},"待办事项",-1)),s("div",Q,[s("div",U,[o[4]||(o[4]=d('<div class="flex items-center space-x-3" data-v-87463a2b><div class="w-10 h-10 bg-warning-orange/10 rounded-full flex items-center justify-center" data-v-87463a2b><svg class="w-5 h-5 text-warning-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-87463a2b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-87463a2b></path></svg></div><div data-v-87463a2b><div class="text-sm font-medium text-gray-900" data-v-87463a2b>2 条预警信息</div><div class="text-xs text-gray-500" data-v-87463a2b>请及时查看处理</div></div></div>',1)),s("button",{onClick:o[0]||(o[0]=e=>ee("/notifications")),class:"text-primary-600 text-sm font-medium"}," 查看 ")])])])]))}},[["__scopeId","data-v-87463a2b"]]);export{X as default};
