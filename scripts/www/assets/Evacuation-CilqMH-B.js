import{m as e}from"./mock-LZpIbfPd.js";import{_ as t}from"./index-BTSs0mnw.js";import{o as s,G as a,p as l,q as r,x as n,O as d,P as o,A as i,r as c,c as x,C as u}from"./vue-vendor-DsBWIAOi.js";const p={class:"evacuation-page fade-in"},g={class:"px-4 py-3"},v={class:"grid grid-cols-3 gap-3"},y={class:"bg-white p-3 rounded-xl shadow-sm text-center"},m={class:"text-2xl font-bold text-gray-900"},h={class:"bg-white p-3 rounded-xl shadow-sm text-center"},f={class:"text-2xl font-bold text-green-600"},b={class:"bg-white p-3 rounded-xl shadow-sm text-center"},k={class:"text-2xl font-bold text-warning-orange"},w={class:"px-4 py-3 bg-white border-b border-gray-200"},M={class:"flex space-x-2"},j=["onClick"],T={class:"px-4 py-4"},C={key:0,class:"space-y-3"},z={key:0,class:"space-y-3"},B={key:1,class:"space-y-3"},_={class:"flex items-start justify-between"},H={class:"flex-1"},P={class:"flex items-center space-x-2 mb-2"},V={class:"text-base font-bold text-gray-900"},E={class:"text-sm text-gray-600 space-y-1"},q={class:"flex items-center space-x-2"},A={class:"flex items-center space-x-2"},G={class:"flex items-center space-x-2"},I={key:1,class:"space-y-3"},L={key:0,class:"space-y-3"},O={key:1,class:"space-y-3"},D={class:"flex items-start justify-between mb-3"},F={class:"text-base font-bold text-gray-900"},J={class:"text-xs text-gray-600 mt-1"},K={class:"grid grid-cols-2 gap-3 mb-3"},N={class:"bg-gray-50 p-3 rounded-lg text-center"},Q={class:"text-lg font-bold text-primary-600"},R={class:"bg-gray-50 p-3 rounded-lg text-center"},S={class:"text-lg font-bold text-gray-700"},U={class:"text-sm text-gray-600 space-y-1 mb-3"},W={class:"flex items-center space-x-2"},X={class:"flex items-center space-x-2"},Y={class:"p-2 bg-green-50 rounded-lg mb-3"},Z={class:"text-xs text-green-800"},$={class:"flex space-x-2"},ee=["href"],te={key:2,class:"space-y-3"},se={key:0,class:"animate-pulse bg-white p-4 rounded-xl"},ae={key:1,class:"space-y-3"},le={class:"flex items-center justify-between mb-3"},re={class:"flex-1"},ne={class:"text-base font-bold text-gray-900"},de={class:"flex items-center space-x-2 mt-1 text-sm text-gray-600"},oe={class:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs"},ie={class:"p-3 bg-gray-50 rounded-lg"},ce={class:"text-sm text-gray-700"},xe=t({__name:"Evacuation",setup(t){const xe=c("people"),ue=c({needToTransfer:[],shelters:[],routes:[]}),pe=c(!0);s(()=>{return t=null,s=null,a=function*(){try{const t=yield e.getEvacuation();ue.value=t.data}catch(t){}finally{pe.value=!1}},new Promise((e,l)=>{var r=e=>{try{d(a.next(e))}catch(t){l(t)}},n=e=>{try{d(a.throw(e))}catch(t){l(t)}},d=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,n);d((a=a.apply(t,s)).next())});var t,s,a});const ge=x(()=>({total:ue.value.needToTransfer.length,transferred:ue.value.needToTransfer.filter(e=>"已转移"===e.status).length,pending:ue.value.needToTransfer.filter(e=>"待转移"===e.status).length}));return(e,t)=>(a(),l("div",p,[r("div",g,[r("div",v,[r("div",y,[r("div",m,n(ge.value.total),1),t[0]||(t[0]=r("div",{class:"text-xs text-gray-600 mt-1"},"总人数",-1))]),r("div",h,[r("div",f,n(ge.value.transferred),1),t[1]||(t[1]=r("div",{class:"text-xs text-gray-600 mt-1"},"已转移",-1))]),r("div",b,[r("div",k,n(ge.value.pending),1),t[2]||(t[2]=r("div",{class:"text-xs text-gray-600 mt-1"},"待转移",-1))])])]),r("div",w,[r("div",M,[(a(),l(d,null,o([{key:"people",label:"需转移人员"},{key:"shelters",label:"安置点"},{key:"routes",label:"转移路线"}],e=>r("button",{key:e.key,onClick:t=>xe.value=e.key,class:u([xe.value===e.key?"bg-primary-600 text-white":"bg-gray-100 text-gray-700","flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors"])},n(e.label),11,j)),64))])]),r("div",T,["people"===xe.value?(a(),l("div",C,[pe.value?(a(),l("div",z,[(a(),l(d,null,o(3,e=>r("div",{key:e,class:"animate-pulse bg-white p-4 rounded-xl"},[...t[3]||(t[3]=[r("div",{class:"h-4 bg-gray-200 rounded"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-3/4 mt-2"},null,-1)])])),64))])):(a(),l("div",B,[(a(!0),l(d,null,o(ue.value.needToTransfer,e=>(a(),l("div",{key:e.id,class:"bg-white p-4 rounded-xl shadow-sm"},[r("div",_,[r("div",H,[r("div",P,[r("h3",V,n(e.name),1),r("span",{class:u({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-red-100 text-red-700":"高"===e.priority,"bg-yellow-100 text-yellow-700":"中"===e.priority})},n(e.priority)+"优先级 ",3),r("span",{class:u({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-700":"已转移"===e.status,"bg-orange-100 text-orange-700":"待转移"===e.status})},n(e.status),3)]),r("div",E,[r("div",q,[t[4]||(t[4]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),r("span",null,n(e.village),1)]),r("div",A,[t[5]||(t[5]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})],-1)),r("span",null,n(e.address),1)]),r("div",G,[t[6]||(t[6]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),r("span",null,n(e.people)+"人",1)])])])]),t[7]||(t[7]=r("div",{class:"mt-3 pt-3 border-t border-gray-100 flex space-x-2"},[r("button",{class:"flex-1 py-2 bg-emergency-100 text-emergency-700 rounded-lg text-xs font-medium"}," 标记已转移 "),r("button",{class:"flex-1 py-2 bg-primary-100 text-primary-700 rounded-lg text-xs font-medium"}," 导航 ")],-1))]))),128))]))])):i("",!0),"shelters"===xe.value?(a(),l("div",I,[pe.value?(a(),l("div",L,[(a(),l(d,null,o(2,e=>r("div",{key:e,class:"animate-pulse bg-white p-4 rounded-xl"},[...t[8]||(t[8]=[r("div",{class:"h-4 bg-gray-200 rounded"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-3/4 mt-2"},null,-1)])])),64))])):(a(),l("div",O,[(a(!0),l(d,null,o(ue.value.shelters,e=>(a(),l("div",{key:e.id,class:"bg-white p-4 rounded-xl shadow-sm"},[r("div",D,[r("div",null,[r("h3",F,n(e.name),1),r("p",J,n(e.type)+" • "+n(e.location),1)])]),r("div",K,[r("div",N,[r("div",Q,n(e.current),1),t[9]||(t[9]=r("div",{class:"text-xs text-gray-600"},"已安置",-1))]),r("div",R,[r("div",S,n(e.capacity),1),t[10]||(t[10]=r("div",{class:"text-xs text-gray-600"},"总容量",-1))])]),r("div",U,[r("div",W,[t[11]||(t[11]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),r("span",null,"负责人: "+n(e.keeper),1)]),r("div",X,[t[12]||(t[12]=r("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),r("span",null,n(e.phone),1)])]),r("div",Y,[r("div",Z,n(e.supplies),1)]),r("div",$,[r("a",{href:"tel:"+e.phone,class:"flex-1 py-2 bg-primary-600 text-white rounded-lg text-xs font-medium text-center"}," 联系安置点 ",8,ee),t[13]||(t[13]=r("button",{class:"flex-1 py-2 bg-emergency-100 text-emergency-700 rounded-lg text-xs font-medium"}," 导航 ",-1))])]))),128))]))])):i("",!0),"routes"===xe.value?(a(),l("div",te,[pe.value?(a(),l("div",se,[...t[14]||(t[14]=[r("div",{class:"h-4 bg-gray-200 rounded"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-3/4 mt-2"},null,-1)])])):(a(),l("div",ae,[(a(!0),l(d,null,o(ue.value.routes,e=>(a(),l("div",{key:e.id,class:"bg-white p-4 rounded-xl shadow-sm"},[r("div",le,[r("div",re,[r("h3",ne,n(e.from)+" → "+n(e.to),1),r("div",de,[r("span",null,"距离: "+n(e.distance),1),r("span",oe,n(e.status),1)])])]),r("div",ie,[r("div",ce,n(e.description),1)]),t[15]||(t[15]=r("div",{class:"mt-3 flex space-x-2"},[r("button",{class:"flex-1 py-2 bg-primary-600 text-white rounded-lg text-xs font-medium"}," 查看路线图 "),r("button",{class:"flex-1 py-2 bg-emergency-100 text-emergency-700 rounded-lg text-xs font-medium"}," 开始导航 ")],-1))]))),128))]))])):i("",!0)])]))}},[["__scopeId","data-v-65a032a8"]]);export{xe as default};
