import{m as e}from"./mock-LZpIbfPd.js";import{_ as s}from"./index-BTSs0mnw.js";import{o as t,G as a,p as l,q as r,O as n,P as o,r as c,C as i,x as d}from"./vue-vendor-DsBWIAOi.js";const x={class:"members-page fade-in"},u={class:"px-4 py-3 bg-white border-b border-gray-200"},y={class:"flex space-x-2"},p=["onClick"],m={class:"px-4 py-4"},v={key:0,class:"space-y-3"},f={key:1,class:"space-y-3"},g={class:"flex items-start space-x-3"},b={class:"flex-1"},h={class:"text-base font-bold text-gray-900"},k={class:"mt-2 space-y-1 text-sm text-gray-600"},w={class:"flex items-center space-x-2"},j={class:"flex items-center space-x-2"},C={class:"flex items-center space-x-2"},M={class:"mt-3 flex space-x-2"},_=["href"],z={key:2,class:"space-y-3"},P={class:"flex items-center justify-between mb-3"},B={class:"text-base font-bold text-gray-900"},V={class:"flex items-center space-x-1"},q={class:"space-y-2"},G={class:"text-sm font-medium text-gray-900"},I={class:"text-xs text-gray-500"},O=["href"],A=s({__name:"Members",setup(s){const A=c("county"),D=c({county:[],towns:[]}),E=c(!0);return t(()=>{return s=null,t=null,a=function*(){try{const s=yield e.getMembers();D.value=s.data}catch(s){}finally{E.value=!1}},new Promise((e,l)=>{var r=e=>{try{o(a.next(e))}catch(s){l(s)}},n=e=>{try{o(a.throw(e))}catch(s){l(s)}},o=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,n);o((a=a.apply(s,t)).next())});var s,t,a}),(e,s)=>(a(),l("div",x,[r("div",u,[r("div",y,[(a(),l(n,null,o([{key:"county",label:"县级队员"},{key:"towns",label:"乡镇队员"}],e=>r("button",{key:e.key,onClick:s=>A.value=e.key,class:i([A.value===e.key?"bg-primary-600 text-white":"bg-gray-100 text-gray-700","flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors"])},d(e.label),11,p)),64))])]),r("div",m,[E.value?(a(),l("div",v,[(a(),l(n,null,o(3,e=>r("div",{key:e,class:"animate-pulse bg-white p-4 rounded-xl"},[...s[0]||(s[0]=[r("div",{class:"h-4 bg-gray-200 rounded"},null,-1),r("div",{class:"h-4 bg-gray-200 rounded w-3/4 mt-2"},null,-1)])])),64))])):"county"===A.value?(a(),l("div",f,[(a(!0),l(n,null,o(D.value.county,e=>(a(),l("div",{key:e.id,class:"bg-white p-4 rounded-xl shadow-sm"},[r("div",g,[s[5]||(s[5]=r("div",{class:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0"},[r("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),r("div",b,[r("h3",h,d(e.name),1),r("div",k,[r("div",w,[s[1]||(s[1]=r("span",{class:"text-gray-500"},"部门:",-1)),r("span",null,d(e.department),1)]),r("div",j,[s[2]||(s[2]=r("span",{class:"text-gray-500"},"职务:",-1)),r("span",null,d(e.role),1)]),r("div",C,[s[3]||(s[3]=r("span",{class:"text-gray-500"},"车辆:",-1)),r("span",null,d(e.vehicle),1)])]),r("div",M,[r("a",{href:"tel:"+e.phone,class:"flex-1 py-2 bg-primary-600 text-white rounded-lg text-xs font-medium text-center"}," 拨打电话 ",8,_),s[4]||(s[4]=r("button",{class:"flex-1 py-2 bg-emergency-100 text-emergency-700 rounded-lg text-xs font-medium"}," 发送消息 ",-1))])])])]))),128))])):(a(),l("div",z,[(a(!0),l(n,null,o(D.value.towns,e=>(a(),l("div",{key:e.id,class:"bg-white p-4 rounded-xl shadow-sm"},[r("div",P,[r("h3",B,d(e.town),1),r("div",V,[r("span",{class:i([e.count>=20?"bg-green-100 text-green-700":"bg-red-100 text-red-700","px-2 py-1 rounded-full text-xs font-medium"])},d(e.count)+"人 ",3),s[6]||(s[6]=r("span",{class:"text-xs text-gray-500"},"/ 最低20人",-1))])]),r("div",q,[(a(!0),l(n,null,o(e.members,(e,t)=>(a(),l("div",{key:t,class:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0"},[r("div",null,[r("div",G,d(e.name),1),r("div",I,d(e.role),1)]),r("a",{href:"tel:"+e.phone,class:"text-primary-600"},[...s[7]||(s[7]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)])],8,O)]))),128))])]))),128))]))])]))}},[["__scopeId","data-v-216f0457"]]);export{A as default};
